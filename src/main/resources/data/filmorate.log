/*C12*/SET SCHEMA PUBLIC
set schema PUBLIC
DROP TABLE users_films
DROP TABLE films
DROP TABLE users
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/CREATE TABLE films (\u000d\u000a    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY ,\u000d\u000a    name VARCHAR(255) NOT NULL ,\u000d\u000a    description VARCHAR(200),\u000d\u000a    release_date DATE,\u000d\u000a    duration INT)
CREATE TABLE users (\u000d\u000a    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY ,\u000d\u000a    email VARCHAR(255) NOT NULL UNIQUE,\u000d\u000a    login VARCHAR(255) NOT NULL UNIQUE,\u000d\u000a    name VARCHAR(255),\u000d\u000a    birthday DATE)
CREATE TABLE users_films (\u000d\u000a    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY ,\u000d\u000a    film_id BIGINT NOT NULL,\u000d\u000a    user_id BIGINT NOT NULL,\u000d\u000a    FOREIGN KEY (film_id) REFERENCES films (id) ON DELETE CASCADE,\u000d\u000a    FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE\u000d\u000a)
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/DROP TABLE users_films
DROP TABLE films
DROP TABLE users
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/CREATE TABLE films (\u000d\u000a    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY ,\u000d\u000a    name VARCHAR(255) NOT NULL ,\u000d\u000a    description VARCHAR(200),\u000d\u000a    release_date DATE,\u000d\u000a    duration INT)
CREATE TABLE users (\u000d\u000a    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY ,\u000d\u000a    email VARCHAR(255) NOT NULL UNIQUE,\u000d\u000a    login VARCHAR(255) NOT NULL UNIQUE,\u000d\u000a    name VARCHAR(255),\u000d\u000a    birthday DATE)
CREATE TABLE users_films (\u000d\u000a    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY ,\u000d\u000a    film_id BIGINT NOT NULL,\u000d\u000a    user_id BIGINT NOT NULL,\u000d\u000a    FOREIGN KEY (film_id) REFERENCES films (id) ON DELETE CASCADE,\u000d\u000a    FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE\u000d\u000a)
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
